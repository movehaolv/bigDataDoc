#### 1. 特点

##### 列式存储

- 数据类型一致压缩效率高，节省磁盘，cache更好利用
- 对于列的聚合，裘和等统计工作更优

##### lsm tree存储

lsm tree 的核心思想是将数据先写入内存，等到一定阈值通过归并排序（所有待排序的树是有序的，可以进行归并排序）写入磁盘。磁盘具有顺序访问（写入读取）高效的特点，所以clickhouse写入很快，适用写入多的场景

##### 数据分区与线程级运行

ch将数据切分多个partition，再将partition切分成多个index granularity(索引粒度) ，通过cpu来处理一部分数据达到并行处理，所以单条query可能打满所有cpu，不适用高qps的查询业务

##### 性能对比

与各大postgre，impala，spark等数据库对比后，ch适用于单表查询，多表查询效率不高